<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
    <head>
        <title>Mingle Card API example</title>
        <script src="static/lib/jquery-1.7.2.min.js" type="text/javascript"></script>
        <script src="static/lib/jquery.base64.min.js" type="text/javascript"></script>
        <script src="static/sample.js" type="text/javascript"></script>
    </head>

    <body>
        <p>When using the Mingle API, the data sent should be in JSON format:</p>

        <pre>
{
    card: {
        description: "Your description"
    }
}
        </pre>
        <p>
            The response is given as XML. View the source of <a href="static/sample.js">static/sample.js</a> for a
            working example.
        </p>

        <h4>Update Card</h4>

        <p>
            Use this form to test out the card API. Ensure that the connection parameters (URL, Username, Password) are
            correct.
        </p>

        <p>
            Also ensure that basic authentication is enabled in <strong>auth_config.yml</strong>.
        </p>

        <form id="update_card_form" action="">

            <fieldset>
                <p>
                    <strong>
                        Caveat: Because of JavaScript security restrictions enforced by some browsers, this page
                        needs to be served by a Mingle instance or a webserver so that the host and port are the same as
                        the Mingle instance.
                    </strong>
                </p>

                <p>
                    Replace <strong>"your_project_identifier"</strong> in the URL with your project identifier, and
                    <strong>"1.xml"</strong> with the card number to update. Make appropriate changes to username and
                    password.
                </p>

                <label>
                    API Card URL.
                    <input id="api_url" type="text" size="80"
                           value="http://localhost:8080/api/v2/projects/your_project_identifier/cards/1.xml"/>
                </label>
                <label>
                    Username <input id="api_username" type="text" value="admin"/>
                </label>
                <label>
                    Password <input id="api_password" type="text" value="p"/>
                </label>
            </fieldset>

            <fieldset>
                <label>
                    Card Description<br/>
                    <textarea id="description" rows="15" cols="120">Your card description goes here.</textarea>
                </label>
                <input type="submit" value="Update Card"/>
            </fieldset>
        </form>

        <h4>XML response:</h4>
        <pre id="result"></pre>
    </body>

</html>